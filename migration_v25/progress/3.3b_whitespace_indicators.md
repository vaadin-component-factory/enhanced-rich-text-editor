# Phase 3.3b: Whitespace Indicators (Feature 7)

## Status: COMPLETE

## Feature Summary
Toggle button shows/hides whitespace symbols: → (tab), ↵ (soft-break), ¶ (paragraph).
CSS `::before`/`::after` pseudo-elements. `show-whitespace` class on `.ql-editor`.

## Dependencies
- Phase 3.1c (Tabstops), Phase 3.1e (Soft-Break) — CSS targets their blot classes

## Acceptance Criteria
- [x] CSS indicators for tab, soft-break, paragraph
- [x] Toolbar toggle button (pilcrow icon, in format group before readonly)
- [x] `setShowWhitespace(boolean)` / `isShowWhitespace()` Java API
- [x] Playwright tests — 7 pass, 2 fixme (auto-wrap disabled)

## Auto-wrap indicator: DISABLED
The `⮐→` auto-wrap indicator has been deactivated. It only triggered for tabs
that wrap to a new visual line, but NOT for text that wraps naturally at the
line end. This inconsistency was confusing — users would see a wrap symbol
for some wraps but not others. Analysis by fullstack-developer and ui-designer
confirmed: no browser-based editor solves this consistently. CSS + JS commented
out with explanation, 2 tests set to `.fixme`.

## Implementation Notes
- Pure CSS approach — no custom blots needed
- CSS ported from V24 `vcf-enhanced-rich-text-editor-content-styles.js`
- `showWhitespace` Lit property + `_createPropertyObserver` pattern
- Button injected in format group before readonly button
- `ql-active` class on button tracks toggle state
- ErteTestLayout: removed empty Tier 2 section, enabled 3.3b nav link

## Files Modified
- `vcf-enhanced-rich-text-editor.js` — property, CSS, button, handler, observer
- `EnhancedRichTextEditor.java` — `setShowWhitespace()` / `isShowWhitespace()`
- `ErteTestLayout.java` — enabled 3.3b nav link, removed empty Tier 2
- `tabstops.spec.ts` — whitespace tests active, auto-wrap tests `.fixme`

## Test Results
- 7 whitespace indicator tests: PASS
- 2 auto-wrap tests: fixme (feature disabled)
- Full ERTE suite: no regressions
