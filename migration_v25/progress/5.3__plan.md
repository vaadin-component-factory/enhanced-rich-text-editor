# Phase 5.3 Plan: Ultimate Documentation Review — Ship-Ready

**Goal:** Final comprehensive documentation review before release. After this phase, all docs are ship-ready.

**Total docs:** 10 files, ~5950 lines

---

## Round 1: User Review Fixes + Humanization

Apply all findings from `3.5e_user_review.md`, then humanize machine-generated prose.

### Step 1a: Apply global rules across ALL docs
**Status:** NOT STARTED

Apply these 8 rules to every doc file:

1. **No internal scripts** — Replace `build.sh`, `server-start.sh` etc. with plain `mvn` / `mvnw` commands. Internal scripts are dev convenience, not user-facing.
2. **No migration artifact names** — Replace `enhanced-rich-text-editor` with `enhanced-rich-text-editor`, `enhanced-rich-text-editor-tables` with `enhanced-rich-text-editor-tables`. The `-v25` suffix is temporary.
3. **No SNAPSHOT versions** — Replace `6.0.0-SNAPSHOT` → `6.0.0`, `2.0.0-SNAPSHOT` → `2.0.0`
4. **No V24/master references** — Don't reference `master` as V24 branch or mention "old V24 modules". Docs are for post-release.
5. **RTE was already commercial** — Don't imply RTE became commercial in V25. It was already Pro in V24.
6. **Lumo only for 6.0, not 6.x** — Lumo-only applies to version 6.0 specifically. Future 6.x may support Aura/Material.
7. **No EAGER value change mode** — Replace `ValueChangeMode.EAGER` examples with `ValueChangeMode.ON_CHANGE`. EAGER is atypical for large text editors.
8. **`VaadinIcon.STAR.create()`** — Replace all `new Icon(VaadinIcon.X)` with `VaadinIcon.X.create()`

**Files to scan:** All 10 doc files + CHANGELOG.md
**Complexity:** Low — mostly find-and-replace. Orchestrator or haiku agent can handle.

### Step 1b: Apply USER_GUIDE specific fixes
**Status:** NOT STARTED

Targeted fixes in `docs/user/USER_GUIDE.md`:

1. **Section 1.4** — Remove the broken Binder sample (`editor.addValueChangeListener(e -> binder.validate())`). It doesn't show actual binding. Replace with a proper Binder example or remove entirely.
2. **Section 2.1 ToolbarSelectPopup** — Remove "(not right-click)" parenthetical
3. **Section 2.1 ToolbarDialog** — Replace `vertical()` factory with constructor usage in code sample
4. **Section 2.1 Button list** — Remove the long inline enumeration of all 30 ToolbarButton values. Reference the API_REFERENCE enum table instead.
5. **Section 2.1 Shortcuts** — Fix `new Icon(VaadinIcon.STAR)` → `VaadinIcon.STAR.create()` (covered by 1a but verify)

**Complexity:** Low — targeted edits. Orchestrator can handle.

### Step 1c: Humanize prose
**Status:** NOT STARTED

Rewrite machine-generated content for human readers. Focus areas:

**USER_GUIDE.md** (954 lines — heaviest rewrite):
- Reduce verbose explanations ("This feature allows you to..." → just show it)
- Cut redundant "Source: XxxTestView.java" comments (test views are internal)
- Shorten "Note:" blocks that explain obvious things
- Make code examples self-explanatory, reduce surrounding prose

**API_REFERENCE.md** (1484 lines — moderate):
- New sections 13-18 may need tone polish (freshly merged from CONFIGURATION.md)
- Ensure tables are scannable, not wall-of-text
- Reference style is fine, but check for machine-generated filler phrases

**UPGRADE_GUIDE.md** (1803 lines — heaviest cut potential):
- This is the longest doc. Look for verbose migration steps that can be compressed.
- Check for sections that repeat information from USER_GUIDE
- Reduce "Before/After" examples where the change is trivial

**Dev docs** (light touch):
- DEVELOPER_GUIDE (214 lines) — already compact
- CONTRIBUTING (469 lines) — check absorbed test architecture reads naturally
- EXTENDING (431 lines) — already trimmed in 5.c
- ARCHITECTURE (342 lines) — verify tone, minimal changes expected

**READMEs** (light touch):
- Root README (137 lines) — check tone, ensure post-release perspective
- Module READMEs (49 + 65 lines) — brief, just verify consistency

**Complexity:** Medium — requires judgment. Delegate to docs-engineer agent per file or file group.

---

## Round 2: Multi-Agent Deep Review (parallel)

Launch 6 agents simultaneously. Each agent reviews from their domain perspective and produces a findings list. Agents do NOT make changes — review only.

### Step 2a: docs-engineer review
**Status:** NOT STARTED

**Focus:** Structure, flow, audience fit, cross-references, completeness, readability
**Files:** All 10 docs
**Prompt guidance:**
- Are docs structured logically for their audience?
- Any broken or misleading cross-references?
- Any sections that feel out of place or redundant across docs?
- Is the Table of Contents accurate in each file?
- Do docs cover all features without gaps?

### Step 2b: code-reviewer review
**Status:** NOT STARTED

**Focus:** Code examples correctness — do they compile, match actual API, use current patterns?
**Files:** USER_GUIDE, API_REFERENCE, UPGRADE_GUIDE, EXTENDING
**Prompt guidance:**
- Do code examples use the correct class names, method signatures, return types?
- Are imports correct? (e.g., `com.vaadin.componentfactory` not migration packages)
- Do examples follow Vaadin 25 patterns? (not V24 patterns)
- Are deprecated or renamed APIs used anywhere?
- Cross-check method signatures against actual Java source in `enhanced-rich-text-editor/src/`

### Step 2c: security-reviewer review
**Status:** NOT STARTED

**Focus:** Sanitizer documentation accuracy, XSS guidance, security best practices
**Files:** USER_GUIDE 3.4, API_REFERENCE section 16, SECURITY.md
**Prompt guidance:**
- Does the sanitizer documentation match the actual implementation in `RteExtensionBase.erteSanitize()`?
- Are the allowed/stripped lists accurate?
- Is the security guidance sound? Any misleading advice?
- Are known XSS vectors from SECURITY.md properly referenced?

### Step 2d: architecture-guard review
**Status:** NOT STARTED

**Focus:** Architecture docs match actual codebase, no stale patterns
**Files:** ARCHITECTURE, EXTENDING, DEVELOPER_GUIDE, CONTRIBUTING
**Prompt guidance:**
- Does the module structure table match actual Maven modules?
- Do architecture descriptions match the actual class hierarchy and package structure?
- Are extension patterns (blots, toolbar, sanitizer) accurately described?
- Any references to files/classes that don't exist or have been renamed?

### Step 2e: requirements-reviewer review
**Status:** NOT STARTED

**Focus:** Feature coverage — all 20 ERTE features documented? Any gaps?
**Files:** USER_GUIDE, API_REFERENCE
**Prompt guidance:**
- Cross-check against `migration_v25/USE_CASE_ANALYSIS.md` — all 20 features covered?
- Are all events documented? All CSS custom properties? All toolbar slots?
- Any feature mentioned in CHANGELOG.md but not in the docs?
- Any feature documented but not actually implemented?

### Step 2f: ui-designer review
**Status:** NOT STARTED

**Focus:** CSS/theming docs accurate, custom properties match implementation
**Files:** API_REFERENCE 13-15, USER_GUIDE 2.10, EXTENDING (styling section)
**Prompt guidance:**
- Do the 20 CSS custom property names and defaults match the actual CSS in `frontend/styles/vcf-enhanced-rich-text-editor-styles.css`?
- Do shadow part names match actual implementation?
- Are CSS class names accurate?
- Do styling examples work correctly?

---

## Round 3: Consolidate + Fix + Verify

### Step 3a: Consolidate findings
**Status:** NOT STARTED

Collect all agent findings into a single prioritized list:
- **Critical:** Incorrect information, broken examples, security issues
- **Important:** Missing content, misleading descriptions, stale references
- **Nice-to-have:** Tone improvements, minor formatting

### Step 3b: Apply fixes
**Status:** NOT STARTED

Fix all Critical and Important findings. Nice-to-have at discretion.

### Step 3c: Final verification
**Status:** NOT STARTED

Quick re-review of changed sections. Verify no regressions introduced.

---

## Complexity

- **Round 1:** Low-Medium — docs-engineer agent(s) for humanization, orchestrator for mechanical fixes
- **Round 2:** Low per agent — read-only review, no changes. All 6 agents run in parallel.
- **Round 3:** Depends on findings volume. Likely medium.

**Total estimated effort:** Medium-high (breadth, not depth)
