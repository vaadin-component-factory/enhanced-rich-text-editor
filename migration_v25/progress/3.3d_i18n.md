# Phase 3.3d: I18n (Feature 12)

## Status: COMPLETE

## Summary
Extended RTE 2's i18n system with 8 ERTE-specific labels for custom toolbar buttons and placeholder dialog.

## What Was Done

### Java: EnhancedRichTextEditorI18n inner class
- `EnhancedRichTextEditorI18n extends RichTextEditor.RichTextEditorI18n`
- 8 new fields: readonly, whitespace, placeholder, placeholderAppearance, placeholderDialogTitle, placeholderComboBoxLabel, placeholderAppearanceLabel1, placeholderAppearanceLabel2
- Fluent setters with covariant return types for all parent methods
- Jackson serialization works automatically (runtime type serialized by `JacksonUtils.beanToJson()`)

### JS: i18n getter/setter override + _applyErteI18n()
- `ERTE_I18N_DEFAULTS` constant with all 8 default labels
- `i18n` getter/setter override: calls `super.i18n = value` then `_applyErteI18n()`
- `_applyErteI18n()` applies labels to ERTE buttons (aria-label), dialog header, combo-box label
- Stores `__erteI18nLabels` for appearance button text reuse
- Called both from setter and at end of `ready()` (setter fires before buttons exist)
- `_onPlaceholderAltAppearanceChanged()` uses i18n labels instead of hardcoded "Plain"/"Value"

### Test view: German ERTE labels
- Changed from `RichTextEditorI18n` to `EnhancedRichTextEditorI18n`
- Added: Schreibschutz, Leerzeichen anzeigen, Platzhalter, Platzhalter-Darstellung, etc.

### Test spec: Fixed + added
- Test 12: Fixed `getAttribute('title')` → `getAttribute('aria-label')` (V25 RTE 2 uses aria-label)
- Test 12b: New test verifying ERTE-specific button labels (readonly → "Schreibschutz", whitespace → "Leerzeichen anzeigen")

## Files Changed
- `enhanced-rich-text-editor/.../EnhancedRichTextEditor.java` — inner class
- `enhanced-rich-text-editor/.../vcf-enhanced-rich-text-editor.js` — ERTE_I18N_DEFAULTS, setter, _applyErteI18n()
- `enhanced-rich-text-editor-demo/.../ErteFeatureTestView.java` — German ERTE labels
- `enhanced-rich-text-editor-demo/tests/erte/features.spec.ts` — test fix + new test

## Test Results
- features.spec.ts: **28 passed**, 5 failed (all pre-existing: addText=3.3e, justify=3.3f, focus=3.3e)
- Full suite: **185 passed**, 5 failed (same pre-existing), 11 skipped
- Zero regressions

## Key Learnings
- RTE 2 I18nMixin deep-merges custom values; unknown ERTE keys pass through unmodified
- `__effectiveI18n` populated by I18nMixin after setter — ERTE reads from it
- Variable names: `__whitespaceBtn` and `__placeholderBtn` (not `__whitespaceButton`/`__placeholderButton`)
