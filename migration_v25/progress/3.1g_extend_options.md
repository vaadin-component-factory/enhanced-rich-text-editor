# Phase 3.1g: extendOptions Hook (Feature 16)

## Status: COMPLETE

## Feature Summary
V25 replaces the V24 `extendOptions` single hook with two hooks:
- `extendQuill`: pre-init, receives `(Quill)` — for global `Quill.register()` calls
- `extendEditor`: post-init, receives `(editor, Quill)` — for instance config, module activation

Namespace: `window.Vaadin.Flow.vcfEnhancedRichTextEditor` (same as V24).

V24 `extendOptions` arrays trigger a deprecation console.warn.

## Files Modified
- `vcf-enhanced-rich-text-editor.js` — Added `extendQuill` (before `super.ready()`) and `extendEditor` (after all ERTE init) hooks, plus `extendOptions` deprecation warning
- `sampleEditorExtensionConnector.js` — Rewritten for V25 API: registers `HighlightBlot` via `extendQuill`, sets verification flag via `extendEditor`
- `ErteExtendOptionsTestView.java` — New test view at `erte-test/extend-options`, loads connector via `@JsModule`
- `ErteTestLayout.java` — Activated 3.1g nav link

## Test Results
- `extend-options.spec.ts`: **4 pass, 0 fail**
  1. extendEditor hook fires and sets flag
  2. extendQuill hook registers highlight format (MARK tag)
  3. highlight format survives delta roundtrip
  4. V24 extendOptions deprecation warning
- Full regression: **139 pass, 22 fixme, 0 fail** (unchanged baseline)

## Phase 4 Migration Path (cross-cutting)
Tables extension can use:
```js
ns.extendQuill.push((Quill) => {
  Quill.register('modules/table', TableModule);
  Quill.register('formats/td', TdBlot);
});
ns.extendEditor.push((editor, Quill) => {
  editor.theme.addModule('table');
});
```
