{"version":3,"file":"register-css-hook.js","sourceRoot":"","sources":["src/register-css-hook.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,IAAI,CAAC;IACH,+DAA+D;IAC/D,MAAM,mBAAmB,GAAG,MAAM,MAAM,CAAC,iBAAiB,EAAE;QAC1D,IAAI,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC;KACpB,CAAC;SACC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;SAChB,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;IAEtB,8DAA8D;IAC9D,mDAAmD;IACnD,MAAM,UAAU,GAAG,mBAAmB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,MAAM,CAAC,aAAa,CAAC,CAAC;IAC5E,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,CAAC,OAAO,EAAE,CAAC;QACnD;;;;;;;;;;;;WAYG;QACH,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,EAAE;YAC/C,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG;SAC3B,CAAC,CAAC;IACL,CAAC;AACH,CAAC;AAAC,MAAM,CAAC;IACP,WAAW;AACb,CAAC","sourcesContent":["/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\ntry {\n  // Detect whether the environment supports importing CSS files.\n  const cssImportsSupported = await import('./detection.css', {\n    with: {type: 'css'},\n  })\n    .then(() => true)\n    .catch(() => false);\n\n  // Avoid breaking non-Node.js environments by checking for the\n  // existance of register on the node:module import.\n  const nodeModule = cssImportsSupported ? null : await import('node:module');\n  if (nodeModule && 'register' in nodeModule.default) {\n    /**\n     * This module registers a Node.js Hook for loading CSS\n     * files as CSSStyleSheet instances.\n     *\n     * @example\n     *\n     * ```ts\n     *  import styles from 'my-styles.css' with {type: 'css'};\n     * ```\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import/with\n     * @see https://nodejs.org/api/module.html#customization-hooks\n     */\n    nodeModule.default.register('./lib/css-hook.js', {\n      parentURL: import.meta.url,\n    });\n  }\n} catch {\n  /* empty */\n}\n"]}