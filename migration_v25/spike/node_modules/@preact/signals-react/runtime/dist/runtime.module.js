import{Signal as n,signal as t,computed as i,effect as r}from"@preact/signals-core";import{version as e,useRef as o,useMemo as u,useEffect as f,useLayoutEffect as c}from"react";import{useSyncExternalStore as a}from"use-sync-external-store/shim/index.js";var s=e.split(".").map(Number)[0],l=[],v=Symbol.for(s>=19?"react.transitional.element":"react.element"),d="undefined"!=typeof window&&!!window.__PREACT_SIGNALS_DEVTOOLS__;function p(t){if("function"!=typeof t)return t;else return function(i,r){if("string"==typeof i&&r)for(var e in r){var o=r[e];if("children"!==e&&o instanceof n)r[e]=o.value}return t.call.apply(t,[t,i,r].concat([].slice.call(arguments,2)))}}var m,b=Symbol.dispose||Symbol.for("Symbol.dispose");function y(n,t){var i=t.effect.S();m=t;return g.bind(t,n,i)}function g(n,t){t();m=n}var h,w,_=function(){},S=((h={o:0,effect:{s:void 0,c:function(){},S:function(){return _},d:function(){}},subscribe:function(){return _},getSnapshot:function(){return 0},S:function(){},f:function(){}})[b]=function(){},h),x=Promise.prototype.then.bind(Promise.resolve());function j(){if(!w)w=x(P)}function P(){var n;w=void 0;null==(n=m)||n.f()}var $="undefined"!=typeof window?c:f;function k(n,t){if(void 0===n)n=0;j();var i=o();if(null==i.current)if("undefined"==typeof window)i.current=S;else i.current=function(n,t){var i,e,o,u,f=0,c=r(function(){e=this},{name:t||"Component"});e.c=function(){f=f+1|0;if(d){var n;null==(n=e.y)||n.call(e)}if(u)u()};return(i={o:n,effect:e,subscribe:function(n){u=n;return function(){f=f+1|0;u=void 0;c()}},getSnapshot:function(){return f},S:function(){if(null!=m){var n=m.o,t=this.o;if(0==n&&0==t||0==n&&1==t){m.f();o=y(void 0,this)}else if(1==n&&0==t||2==n&&0==t);else o=y(m,this)}else o=y(void 0,this)},f:function(){var n=o;o=void 0;null==n||n()}})[b]=function(){this.f()},i}(n,t);var e=i.current;a(e.subscribe,e.getSnapshot,e.getSnapshot);e.S();if(0===n)$(P);return e}Object.defineProperties(n.prototype,{$$typeof:{configurable:!0,value:v},type:{configurable:!0,value:function(n){var t=n.data,i=k(1);try{return t.value}finally{i.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function C(n,t){return k(n,t)}function useSignal(n,i){return u(function(){return t(n,i)},l)}function useComputed(n,t){var r=o(n);r.current=n;return u(function(){return i(function(){return r.current()},t)},l)}function useSignalEffect(n,t){var i=o(n);i.current=n;f(function(){return r(function(){return i.current()},t)},l)}export{k as _useSignalsImplementation,j as ensureFinalCleanup,useComputed,useSignal,useSignalEffect,C as useSignals,p as wrapJsx};//# sourceMappingURL=runtime.module.js.map
