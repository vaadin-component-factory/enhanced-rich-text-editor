import{useSignal}from"@preact/signals-react";import{useSignals as t}from"@preact/signals-react/runtime";import{createElement as n,useMemo as r,Fragment as e}from"react";const o=n=>{t();return"function"==typeof n.children?n.children(n.v,n.i):n.children};o.displayName="Item";function c(r){t();const e="function"==typeof r.when?r.when():r.when.value;if(!e)return r.fallback||null;else return n(o,{v:e,children:r.children})}c.displayName="Show";function i(c){t();const i=r(()=>new Map,[]);let u=("function"==typeof c.each?c.each():c.each).value;if(!u.length)return c.fallback||null;const f=new Set(i.keys()),s=u.map((t,r)=>{f.delete(t);if(!i.has(t)){const e=n(o,{v:t,key:r,i:r,children:c.children});i.set(t,e);return e}return i.get(t)});f.forEach(t=>{i.delete(t)});return n(e,{children:s})}i.displayName="For";function u(t){const n=useSignal(t);if(n.peek()!==t)n.value=t;return n}function f(t){const n=useSignal(t);if(!("current"in n))Object.defineProperty(n,"current",s);return n}const s={configurable:!0,get(){return this.value},set(t){this.value=t}};export{i as For,c as Show,u as useLiveSignal,f as useSignalRef};//# sourceMappingURL=utils.mjs.map
